$(document).ready(function(){function e(){"block"===$(".max-767").css("display")&&$(".menu__parent").on("click",function(){if(!$(this).hasClass("menu__parent-open")){var e=$(this),t=e.parents(".menu__list");e.parents(".menu__list").slideUp("1000",function(){e.addClass("menu__parent-open"),t.children('li:not(".menu__parent-open")').hide(),t.slideDown("1000")}),$(".menu__back").click(function(e){e.stopPropagation(),t.slideUp("1000",function(){$(".menu__parent.menu__parent-open").removeClass("menu__parent-open"),t.children("li").show(),t.slideDown("1000")})})}})}var n,m,t,p,h,d,_,f,v,g,C,b,k;function i(){m=$(".hoverzoom"),t=$(".hoverzoom__img"),p=$(".magnifier"),h=$(".zoom__image"),_=d=200,f=parseInt(m.width()),v=parseInt(m.height()),g=parseInt(h.width()),C=parseInt(h.height()),b=f/_*parseInt(h.width()),k=v/d*parseInt(h.height()),p.height(d+"px"),p.width(_+"px");var e=new Image;e.src=t.attr("src"),h.html(e),h.find("img").width(b+"px"),m.on("mouseenter",s),m.on("mouseleave",function(e){p.css({opacity:0}),h.removeClass("zoom__image-active"),$(this).off("mousemove",s)})}function s(){m.on("mousemove",function(e){var t,n,i,s,o=m.offset().left,a=m.offset().top,r=e.clientX-o,l=e.clientY-a;if(r<_/2)n=t=0;else if(f-_/2<r)t="unset",n=_/2-g/b*100;else{var c=r-_/2;t=c+"px",n=c/f*100}if(l<d/2)i=s=0;else if(v-d/2<l)s="unset",i=d/2-C/k*100;else{var u=l-d/2;s=u+"px",i=u/v*100}p.css({opacity:1}),p.css({left:t}),p.css({top:s}),h.addClass("zoom__image-active").find("img").css({transform:"translateX("+-n+"%) translateY("+-i+"%)"})})}$("#menuButton").on("click",function(){$(this).hasClass("btn__menu-open")?($(this).removeClass("btn__menu-open"),$("#menu").removeClass("menu__open"),$(".sidebar").removeClass("sidebar__show")):($(this).addClass("btn__menu-open"),$("#menu").addClass("menu__open"),$(".sidebar").addClass("sidebar__show"))}),$(".menu__overlay").click(function(){$("#menu").removeClass("menu__open"),$("#menuButton").removeClass("btn__menu-open"),$(".sidebar").removeClass("sidebar__show")}),$(".menu__wrap").click(function(e){e.stopPropagation()}),e(),$(window).resize(function(){$(".menu__parent").off("click"),$("#menu").removeClass("menu__open"),$(".sidebar").removeClass("sidebar__show"),$("#menuButton").removeClass("btn__menu-open"),$(".menu__parent.menu__parent-open").removeClass("menu__parent-open"),$(".menu__list").show(),$(".menu__list>li").show(),e()}),$("#formSearch").on("click",function(e){return e.stopPropagation(),$("html").one("click",function(){$("#formSearch").removeClass("search__form-open")}),$("#btnSearch").one("click",function(e){return $("#formSearch").removeClass("search__form-open"),e.stopPropagation(),!1}),$("#formSearch").addClass("search__form-open"),e.preventDefault(),!1}),$("#mainSlider").slick({infinite:!0,dots:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:"#mainImgSlider"}),$(".main__slider").on("wheel",function(e){e.preventDefault(),e.originalEvent.deltaY<0?$(this).slick("slickNext"):$(this).slick("slickPrev")}),$(".main__slide").bind("touchstart",function(e){n=e.originalEvent.touches[0].clientY,console.log("ts + "+n)}),$(".main__slide").bind("touchend",function(e){var t=e.originalEvent.changedTouches[0].clientY;console.log("te = "+t),t+5<n?$(this).slick("slickNext"):n<t-5&&$(this).slick("slickPrev")}),$("#mainImgSlider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,vertical:!0,asNavFor:"#mainSlider",speed:900}),$("#mainSlider").on("VoloChange",function(e,t,n,i){n!=$("#mainImgSlider").slick("slickCurrentSlide")&&$("#mainImgSlider").slick("slickGoTo",n,!1)}),$(".tab").on("click",function(){if(!$(this).hasClass("tab-active")){$(".tab-active").removeClass("tab-active"),$(this).addClass("tab-active");var e=$(this).data("tab");$(".tab__content-active").slideUp(),$("#"+e).slideDown().addClass("tab__content-active")}}),$(".vertical__item").on("click",function(){var e=$(this).data("id");$(".bg-img__item-active").removeClass("bg-img__item-active hoverzoom__img"),$("#"+e).addClass("bg-img__item-active hoverzoom__img"),i()}),$('<button class="quantity-button quantity-up">+</button>').insertAfter(".quantity-input"),$('<button class="quantity-button quantity-down">&ndash;</button>').insertBefore(".quantity-input"),$(".quantity").each(function(){var n=$(this),i=n.find('input[type="number"]'),e=n.find(".quantity-up"),t=n.find(".quantity-down"),s=i.attr("min"),o=i.attr("max");e.click(function(){var e=parseFloat(i.val());if(o<=e)var t=e;else t=e+1;return n.find("input").val(t),n.find("input").trigger("change"),!1}),t.click(function(){var e=parseFloat(i.val());if(e<=s)var t=e;else t=e-1;return n.find("input").val(t),n.find("input").trigger("change"),!1})}),$(".select").each(function(){var e=$(this).attr("class"),t=($(this).attr("id"),$(this).attr("name"),'<div class="'+e+'">'),n=$(this).attr("placeholder")?$(this).attr("placeholder"):"";t+='<span class="select-trigger">'+n+"</span>",t+='<div class="custom-options">',$(this).find("option").each(function(){t+='<span class="custom-option '+$(this).attr("class")+'" data-value="'+$(this).attr("value")+'">'+$(this).html()+"</span>"}),t+="</div></div>",$(this).wrap('<div class="select-wrapper"></div>'),$(this).hide(),$(this).after(t)}),$(".custom-option:first-of-type").hover(function(){$(this).parents(".custom-options").addClass("option-hover")},function(){$(this).parents(".custom-options").removeClass("option-hover")}),$(".select-trigger").on("click",function(e){$("html").one("click",function(){$(".select").removeClass("opened")}),$(".select-trigger").not($(this)).parents(".select").removeClass("opened"),$(this).parents(".select").toggleClass("opened"),e.stopPropagation()}),$(".custom-option").on("click",function(){$(this).parents(".select-wrapper").find("select").val($(this).data("value")),$(this).parents(".select-wrapper").find("select").trigger("change"),$(this).parents(".custom-options").find(".custom-option").removeClass("selection"),$(this).addClass("selection"),$(this).parents(".select").removeClass("opened"),$(this).parents(".select").find(".select-trigger").text($(this).text())}),$(".input").on("focusout",function(){""!=$(this).val().trim()?$(this).addClass("input-focus"):$(this).removeClass("input-focus")}),$(".hint").on("click",function(){$(this).toggleClass("hint-active")}),0<$(".hoverzoom").length&&(i(),$(window).resize(i))});